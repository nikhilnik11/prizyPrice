DROP TABLE IF EXISTS PUBLIC.SURVEY_PRODUCT;
DROP TABLE IF EXISTS PUBLIC.PRODUCT;

CREATE MEMORY TABLE PUBLIC.PRODUCT(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,BAR_CODE VARCHAR(255) NOT NULL,DISCRIPTION VARCHAR(255) NOT NULL,NAME VARCHAR(255) NOT NULL,CONSTRAINT UK_M2HRQF78HKKULFQXK62K3Y4SM UNIQUE(BAR_CODE));
ALTER TABLE PUBLIC.PRODUCT ALTER COLUMN ID RESTART WITH 1;
CREATE MEMORY TABLE PUBLIC.SURVEY_PRODUCT(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NOTES VARCHAR(255),PRICE_BY_USER DOUBLE NOT NULL,PRODUCT_ID INTEGER,CONSTRAINT FKTEGVXIVM8M7N2U12RXM5441X2 FOREIGN KEY(PRODUCT_ID) REFERENCES PUBLIC.PRODUCT(ID));
ALTER TABLE PUBLIC.SURVEY_PRODUCT ALTER COLUMN ID RESTART WITH 1;


insert into product(name, Bar_Code, discription) values('Samsung Phone','12SP34','Samgung s7');
insert into product(name, Bar_Code, discription) values('Apple Phone','12AP34','Iphone 7');
insert into product(name, Bar_Code, discription) values('Earphones','12EP35','Skull Candy Ear Phones');
insert into product(name, Bar_Code, discription) values('Earphones','12EP36','Boss Ear Phones');
insert into product(name, Bar_Code, discription) values('Car','12C13','Hyndai i20');